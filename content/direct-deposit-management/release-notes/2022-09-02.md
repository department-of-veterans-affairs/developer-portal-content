#### Direct Deposit Management API
Month dd, 2022

We added a new API to the developer portal called the **[Direct Deposit Management API]((https://community.max.gov/pages/viewpage.action?pageId=2286748585))**.
<br>

This API replaces the EVSS Patient Payment Information Update (PPIU) service and offers many added benefits, such as:

  - Detailed error response bodies for error response codes.<br>
  - Removed routing number checks against an outdated list of fraudulent routing numbers (and all associated errors).<br>
  - More data is being cached for latency improvement purposes.<br>
  - Additional and improved HTTPS response codes for both end points: 
    * 200 - Success (Get or Update)
    * 201 - Success (Create)
    * 400 - Bad Request
    * 401 - Not Authorized
    * 403 - Forbidden
    * 404 - Not Found
    * 406 - Not Acceptable
    * 422 - Unprocessable Entity
    * 429 - Too Many Requests
    * 500 - Internal Server Error


**Important Differences between the Direct Deposit Management API and the Legacy Service:**
- The API is now on `developer.va.gov`, therefore the URLs have changed:
  * Legacy URL: `https://www.ebenefits.va.gov:444/<servicename>/<endpointname>`
  * New URL:    `https://api.va.gov/services/<servicename>/v1/<endpointname>`
- The new API requires OAuth and consumers will not need to pass PII.<br>
  * Instead, consumers provide the ICN in each request using a query parameter.
  * The API will pull additional Veteran details as needed.
- Responses are in JSON instead of HTML. 
  
**New Endpoints and Descriptions:**
- GET `/direct-deposit`      Get direct deposit account as well as eligibility and control information.
- PUT `/direct-deposit`      Create or Update direct deposit account information.

**Triage/Production Support:**
- Lighthouse now provides more specific error messages containing information helpful for troubleshooting issues.  

**Error Payload Changes:**
- Errors are now handled in 400, 422, or 500 responses.
- Errors now follow the Lighthouse error response format.
- Error messages are no longer part of the common response for both endpoints.
  
  * Legacy Service Error Response Message Example:<br><img width="281" alt="ddm initial release notes original error" src="https://user-images.githubusercontent.com/102829662/188154453-a500c2c3-4053-40b4-9bf1-e477b8f1d9eb.png">

  * New Lighthouse Error Response Message Example:<br><img width="281" alt="ddm initial release notes new error" src="https://user-images.githubusercontent.com/102829662/188154754-36cb170c-4d0e-4fc2-bab8-3e743c85ad2d.png">


As always, it's important to know that the new version will need to support backward compatibility.<br>
It should:
- Be prepared to handle HTTP status codes not explicitly specified in endpoint definitions.
- Be tolerant of unknown fields in the payload and ignore the deserialization of new fields.
- Follow the redirect when the server returns an HTTP status code 301 (Moved Permanently).


The PR for this release is #TBD.
